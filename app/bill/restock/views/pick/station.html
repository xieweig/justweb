<div id="content">
    <div jarvis-widget data-widget-editbutton="false">
        <header class="custom-header">
            <h2>{{ $state.current.data.title }}</h2>
            <input type="button" class="btn btn-default btn-header" value="重置" data-ng-click="reset()">
            <input type="button" class="btn btn-default btn-header" value="提交出库单" data-ng-click="submit()">
            <input type="button" class="btn btn-default btn-header" value="保存" data-ng-click="save()">
        </header>

        <section id="widget-grid" class="">
            <div class="row">
                <div class="col-sm-6">
                    <div class="well margin-top-10  padding-top-0">
                        <h5>
                            <small>退库信息</small>
                        </h5>
                        <div class="row">

                            <div class="col-lg-10 col-sm-10 col-xs-10 margin-bottom-10">
                                <div class="input-group">
                                    <span class="input-group-addon">单号</span>
                                    <input type="text" class="form-control" data-ng-model="params.billCode" disabled>
                                </div>
                            </div>
                            <div class="col-lg-10 col-sm-10 col-xs-10 margin-bottom-10">
                                <div class="input-group">
                                    <span class="input-group-addon">出库库位</span>
                                    <select smart-select2 id="select-out" class="width-full">
                                        <option data-ng-repeat="item in outType" data-ng-value="item.key">
                                            {{item.text}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-10 col-sm-10 col-xs-10 margin-bottom-10">
                                <div class="input-group">
                                    <span class="input-group-addon">计划备注</span>
                                    <textarea type="text" rows="" class="form-control custom-scroll"
                                              data-ng-model="params.memo" disabled></textarea>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
                <div class="col-sm-6">
                    <!-- your contents here -->
                    <div class="well margin-top-10 padding-top-0">
                        <h5>
                            <small>
                                退库计划单信息
                            </small>
                        </h5>
                        <!--<br>-->

                        <div class="row" style="margin-bottom: 18px;">

                            <div class="col-lg-10 col-sm-10 col-xs-12 margin-bottom-10">
                                <div class="display-flex">
                                    <div class="flex-1">
                                        <div class="input-group">
                                            <span class="input-group-addon">录单时间</span>
                                            <input type="text" class="form-control" data-datepicker
                                                   data-ng-model="params.createTime" disabled>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-10 col-sm-10 col-xs-12 margin-bottom-10">
                                <div class="input-group">
                                    <span class="input-group-addon">入库站点</span>
                                    <input type="text" class="form-control" data-ng-model="params.inStationName"
                                           disabled>
                                    <!--<span data-station-tree data-select-modal="inStationParams"></span>-->
                                </div>
                            </div>

                            <!-- TODO: 修改出库来源 -->
                            <div class="col-lg-10 col-sm-10 col-xs-12 margin-bottom-10">
                                <div class="input-group">
                                    <span class="input-group-addon">出库站点</span>
                                    <input type="text" class="form-control" data-ng-model="params.outStationName"
                                           disabled>
                                    <!--<span data-station-tree data-select-modal="outStationParams"></span>-->
                                </div>
                            </div>

                        </div>

                    </div>
                </div>

            </div>

        </section>

        <div>
            <div class="widget-body no-padding">
                <div class="tab-pane" id="hr2">
                    <ul class="nav nav-tabs" id="tabs">
                        <li class="active">
                            <a href="#iss1" data-toggle="tab">按货物拣货</a>
                        </li>
                        <li data-ng-click="change()">
                            <a href="#iss2" data-toggle="tab">按原料拣货</a>
                        </li>
                    </ul>
                    <div class="tab-content padding-10">
                        <div class="tab-pane active" id="iss1">
                            <div class="padding-10">
                                <div class="text-center">站点退库计划明细</div>
                                <div>
                                    <input type="text" class="form-control" data-ng-keypress="sendCode($event)"
                                           data-ng-model="params.scanCode">
                                </div>
                                <hr class="gray-line">
                                <div class="margin-top-10" data-kendo-grids data-options="cargoGrid"></div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="iss2">
                            <div class="padding-10">
                                <div data-ng-repeat="item in itemMap" class="plan-panel margin-bottom-10">
                                    <div class="plan-panel-body" style="margin-left: 0;">
                                        <div class="row">
                                            <dl class="col-lg-3 col-sm-4 col-xs-12 margin-bottom-10 dl-horizontal">
                                                <dt>原料名称</dt>
                                                <dd data-ng-bind="item.material.materialName"></dd>
                                            </dl>
                                            <dl class="col-lg-3 col-sm-4 col-xs-12 margin-bottom-10 dl-horizontal">
                                                <dt>应拣总数量</dt>
                                                <dd data-ng-bind="item.material.shippedAmount"></dd>
                                            </dl>
                                            <dl class="col-lg-3 col-sm-4 col-xs-12 margin-bottom-10 dl-horizontal">
                                                <dt>实拣总数量</dt>
                                                <dd data-ng-bind="item.material.actualAmount"></dd>
                                            </dl>
                                            <dl class="col-lg-3 col-sm-4 col-xs-12 margin-bottom-10 dl-horizontal">
                                                <dt>完成度</dt>
                                                <dd data-ng-bind="item.material.progress"></dd>
                                            </dl>
                                        </div>
                                        <div class="margin-bottom-10">
                                            <input type="button" class="btn btn-default width-80" value="添加货物"
                                                   data-ng-click="addCargo($index)">
                                        </div>
                                        <div>
                                            <div data-kendo-grids data-options="item.cargoGrid"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>
</div>